var Y=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var D=(a,e,o)=>e in a?Y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,E=(a,e)=>{for(var o in e||(e={}))oe.call(e,o)&&D(a,o,e[o]);if(V)for(var o of V(e))ne.call(e,o)&&D(a,o,e[o]);return a},M=(a,e)=>ee(a,te(e));var K=(a,e,o)=>new Promise((s,m)=>{var $=c=>{try{h(o.next(c))}catch(k){m(k)}},v=c=>{try{h(o.throw(c))}catch(k){m(k)}},h=c=>c.done?s(c.value):Promise.resolve(c.value).then($,v);h((o=o.apply(a,e)).next())});import{f as O,m as ae,c as re,n as se,p as d,P as ie,w as U}from"./entry/index-DgetGCEO-1709791205404.js";import{d as X,Z as T,_ as N,$ as j,ae as F,a1 as x,u as f,ag as q,f as _,w as J,y as I,H as ce,K as le,ah as ue,p as fe,c as H,a8 as Z,ad as ge,aa as de,a9 as W,ac as he,ab as G,aj as pe,ak as me,F as He,G as ye,a0 as be}from"./vue-COhTiP8A.js";import{u as Fe}from"./useContentViewHeight-Bq5OnbO2.js";import{l as ve,aa as ke,o as L,ab as Ce}from"./antd-BS7GgtZr.js";import{o as Se}from"./onMountedOrActivated-GpUdBAv_.js";import{u as $e}from"./useWindowSizeFn-cQfEIV8Q.js";const Pe=X({name:"PageFooter",inheritAttrs:!1,__name:"PageFooter",setup(a){const{prefixCls:e}=O("page-footer"),{getCalcContentWidth:o}=ae();return(s,m)=>(T(),N("div",{class:x(f(e)),style:q({width:f(o)})},[j("div",{class:x(`${f(e)}__left`)},[F(s.$slots,"left",{},void 0,!0)],2),F(s.$slots,"default",{},void 0,!0),j("div",{class:x(`${f(e)}__right`)},[F(s.$slots,"right",{},void 0,!0)],2)],6))}}),Q=re(Pe,[["__scopeId","data-v-dafa78ce"]]);function we(a,e,o,s,m=0,$=_(0)){const v=_(null),{footerHeightRef:h}=Fe();let c={useLayoutFooter:!0};const k=i=>{c=i};function z(){I(()=>{w()})}function C(i,R="all"){var b,S,n,p;function y(t){return Number(t.replace(/[^\d]/g,""))}let u=0;const g="0px";if(i){const t=getComputedStyle(i),r=y((b=t==null?void 0:t.marginTop)!=null?b:g),l=y((S=t==null?void 0:t.marginBottom)!=null?S:g),B=y((n=t==null?void 0:t.paddingTop)!=null?n:g),A=y((p=t==null?void 0:t.paddingBottom)!=null?p:g);R==="all"?(u+=r,u+=l,u+=B,u+=A):R==="top"?(u+=r,u+=B):(u+=l,u+=A)}return u}function P(i){return i==null?null:i instanceof HTMLDivElement?i:i.$el}function w(){return K(this,null,function*(){var p;if(!a.value)return;yield I();const i=P(f(e));if(!i)return;const{bottomIncludeBody:R}=se(i);let y=0;o.forEach(t=>{var r,l;y+=(l=(r=P(f(t)))==null?void 0:r.offsetHeight)!=null?l:0});let u=(p=C(i))!=null?p:0;s.forEach(t=>{u+=C(P(f(t)))});let g=0;function b(t,r){if(t&&r){const l=t.parentElement;l&&(ve(r)?l.classList.contains(r)?g+=C(l,"bottom"):(g+=C(l,"bottom"),b(l,r)):ke(r)&&r>0&&(g+=C(l,"bottom"),b(l,--r)))}}ce(m)?b(i,f(m)):b(i,m);let S=R-f(h)-f($)-y-u-g;const n=()=>{var t;(t=c.elements)==null||t.forEach(r=>{var l,B;S+=(B=(l=P(f(r)))==null?void 0:l.offsetHeight)!=null?B:0})};c.useLayoutFooter&&f(h)>0,n(),v.value=S})}return Se(()=>{I(()=>{w()})}),$e(()=>{w()},{wait:50,immediate:!0}),J(()=>[h.value],()=>{w()},{flush:"post",immediate:!0}),{redoHeight:z,setCompensation:k,contentHeight:v}}const Re=X({name:"PageWrapper",inheritAttrs:!1,__name:"PageWrapper",props:{title:d.string,dense:d.bool,ghost:d.bool,headerSticky:d.bool,headerStyle:Object,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool.def(!1),contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(a){const e=a,o=le(),s=ue(),m=_(null),$=_(null),v=_(null),h=_(null),{prefixCls:c}=O("page-wrapper");fe(ie,H(()=>e.fixedHeight));const k=H(()=>e.contentFullHeight),z=H(()=>e.upwardSpace),{redoHeight:C,setCompensation:P,contentHeight:w}=we(k,m,[$,h],[v],z);P({useLayoutFooter:!0,elements:[h]});const i=H(()=>{var n;return[c,{[`${c}--dense`]:e.dense},(n=o.class)!=null?n:{}]}),R=H(()=>{const{headerSticky:n}=e;return n?E({position:"sticky",top:0,zIndex:99},e.headerStyle):{}}),y=H(()=>e.content||(s==null?void 0:s.headerContent)||e.title||g.value.length),u=H(()=>(s==null?void 0:s.leftFooter)||(s==null?void 0:s.rightFooter)),g=H(()=>Object.keys(L(s,"default","leftFooter","rightFooter","headerContent"))),b=H(()=>{const{contentFullHeight:n,contentStyle:p,fixedHeight:t}=e;if(!n)return E({},p);const r=`${f(w)}px`;return E(M(E({},p),{minHeight:r}),t?{height:r}:{})}),S=H(()=>{const{contentBackground:n,contentClass:p}=e;return[`${c}-content`,p,{[`${c}-content-bg`]:n}]});return J(()=>[u.value],()=>{C()},{flush:"post",immediate:!0}),(n,p)=>(T(),N("div",{class:x(i.value),ref_key:"wrapperRef",ref:m},[y.value?(T(),Z(f(Ce),he({key:0,ghost:a.ghost,title:a.title},f(L)(n.$attrs,"class"),{style:R.value,ref_key:"headerRef",ref:$}),ge({default:W(()=>[a.content?(T(),N(He,{key:0},[ye(be(a.content),1)],64)):F(n.$slots,"headerContent",{key:1})]),_:2},[de(g.value,t=>({name:t,fn:W(r=>[F(n.$slots,t,pe(me(r||{})))])}))]),1040,["ghost","title","style"])):G("",!0),j("div",{class:x(["overflow-hidden",S.value]),style:q(b.value),ref_key:"contentRef",ref:v},[F(n.$slots,"default")],6),u.value?(T(),Z(Q,{key:1,ref_key:"footerRef",ref:h},{left:W(()=>[F(n.$slots,"leftFooter")]),right:W(()=>[F(n.$slots,"rightFooter")]),_:3},512)):G("",!0)],2))}});U(Q);const Ie=U(Re);export{Ie as P};
